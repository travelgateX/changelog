# Notable change for one version of a project
type Change implements Node{
  # A unique identifier
  code: ID!
  # Change Data
  changeData: ChangeData!
  # Date created
  createdAt: DateTime!
  # Date updated
  updatedAt: DateTime!
}

# Change info
type ChangeData{
  # A unique identifier.
  code: ID!
  # Commit category [Added, Changed, Deprecated, Removed, Fixed, Security]
  type: ChangeType!
  # Descriptive message about the changes commited.
  message: String!
  # Release version (unreleased change if not informed)
  release: Release
  # Project which changes have been made
  project: String!
  # Change date
  changeDate: DateTime!
  # Source of the change
  source: Source!
}

# Change connection
type ChangeConnection {
  # Change edges
  edges: [ChangeEdge]
  # Page info
  pageInfo: PageInfo!
}

# Change edge
type ChangeEdge {
  # Change edge cursor
  cursor: String!
  # Change edge node
  node: Change
}
# Node
interface Node {
  # A unique identifier
  code: ID!
  # Date created
  createdAt: DateTime!
  # Date updated
  updatedAt: DateTime!
}

# Page info
type PageInfo {
  # Has next page?
  hasNextPage: Boolean!
  # Has previous page?
  hasPreviousPage: Boolean!
  # Start cursor
  startCursor: String!
  # End cursor
  endCursor: String!
}
# Time is an RFC3339 timestamp.
scalar DateTime

# Semantic version https://semver.org/
scalar Version
# Source of the change
type Source{
  # A unique identifier
  code: ID!
  # Change platform
  platform: SourcePlatform!
  # User that make the changes
  author: Author 
}
# Changelog mutations
type Mutation {
  a:Boolean
}
# Changelog root schema
schema {
  query: Query
  mutation: Mutation
}
# Change type
enum ChangeType{
  # Added for new features
  ADDED
  # Changed for changes in existing functionality
  CHANGED
  # Deprecated for soon-to-be removed features
  DEPRECATED
  # Removed for now removed features
  REMOVED
  # Fixed for any bug fixes
  FIXED
  # Security in case of vulnerabilities
  SECURITY
}

# Source platform
enum SourcePlatform{
  # Github
  GITHUB
  # Gitlab
  GITLAB
  # Jira
  JIRA
  # Slack
  SLACK
  # Other
  OTHER
}
# Changelog filter input
input ChangelogFilterInput{
  # Change type
  type: ChangeType
}
# Relase version
type Release implements Node{
  # A unique identifier
  code: ID!
  # Release Data
  releaseData: ReleaseData!
  # Date created
  createdAt: DateTime!
  # Date updated
  updatedAt: DateTime!
}

type ReleaseData{
  # A unique identifier
  code: ID!
  # Release version number (X.Y.Z)
  version: Version!
  # Released date
  releaseDate: DateTime!
}
# Changelog querys
type Query {
  # List of changes related to a project
  changelog(filter:ChangelogFilterInput):ChangeConnection!
}
# Author node
type Author implements Node{
  # A unique identifier
  code: ID!
  # Author Data
  authorData: AuthorData!
  # Date created
  createdAt: DateTime!
  # Date updated
  updatedAt: DateTime!
}

# Author info
type AuthorData{
  # A unique identifier
  code: ID!
  # Author name
  name: String
}
